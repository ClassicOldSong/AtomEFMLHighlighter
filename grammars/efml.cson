{
    "scopeName": "text.efml", 
    "repository": {
        "efml-tag-name": {
            "patterns": [
                {
                    "begin": "\\#", 
                    "end": "$", 
                    "name": "entity.other.attribute-name.id.html"
                }
            ]
        }, 
        "efml-class-mustache": {
            "patterns": [
                {
                    "match": "\\.\\{\\{(([^#]+?)(\\=([^#]+?))?)?\\}\\}((?=#)|$)", 
                    "captures": {
                        "2": {
                            "name": "variable.other.object.efml"
                        }, 
                        "4": {
                            "name": "string.mustache.efml"
                        }
                    }, 
                    "name": "meta.selector.css entity.other.attribute-name.class.mustache.efml"
                }
            ]
        }, 
        "efml-escape": {
            "patterns": [
                {
                    "match": "\\&(u.{0,4}|x.{0,2}|.?)", 
                    "name": "constant.character.escape.efml"
                }
            ]
        }, 
        "efml-mustache": {
            "patterns": [
                {
                    "begin": "\\{\\{", 
                    "patterns": [
                        {
                            "include": "#mustache-path"
                        }, 
                        {
                            "include": "#mustache-string"
                        }
                    ], 
                    "end": "\\}\\}", 
                    "name": "expression.embbeded.efml"
                }
            ]
        }, 
        "mustache-string": {
            "patterns": [
                {
                    "begin": "(?<=\\=)", 
                    "patterns": [
                        {
                            "include": "#mustache-escape"
                        }
                    ], 
                    "end": "(?=\\}\\})", 
                    "name": "string.mustache.efml"
                }
            ]
        }, 
        "efml-pure-string": {
            "patterns": [
                {
                    "begin": "(?<=(\\=|:))", 
                    "patterns": [
                        {
                            "include": "#efml-escape"
                        }
                    ], 
                    "end": "$", 
                    "name": "string.efml"
                }
            ]
        }, 
        "efml-attr": {
            "patterns": [
                {
                    "begin": "\\#", 
                    "end": "(?=\\=)|$", 
                    "name": "entity.other.attribute-name.html"
                }
            ]
        }, 
        "efml-event-method": {
            "patterns": [
                {
                    "begin": "(?<=\\=)", 
                    "end": "((?=:)|$)", 
                    "name": "entity.name.function.efml"
                }
            ]
        }, 
        "efml-prop": {
            "patterns": [
                {
                    "begin": "\\%", 
                    "end": "((?=\\=)|$)", 
                    "name": "keyword.control.efml"
                }
            ]
        }, 
        "efml-tag": {
            "patterns": [
                {
                    "begin": "\\>", 
                    "end": "(?=(\\.|\\#))|$", 
                    "name": "entity.name.tag.block.any.efml"
                }
            ]
        }, 
        "mustache-escape": {
            "patterns": [
                {
                    "match": "\\&(u(?!}})..(?!}}).(?!}}).|x(?!}}).(?!}}).|(?!}}).)", 
                    "name": "constant.character.escape.efml"
                }
            ]
        }, 
        "mustache-path": {
            "patterns": [
                {
                    "begin": "(?<=\\{\\{)", 
                    "end": "(?=(\\=|\\}\\}|$))", 
                    "name": "variable.other.object.efml"
                }
            ]
        }, 
        "efml-event": {
            "patterns": [
                {
                    "begin": "\\@", 
                    "end": "((?=\\=)|$)", 
                    "name": "variable.function.efml"
                }
            ]
        }, 
        "efml-tag-class": {
            "patterns": [
                {
                    "begin": "\\.", 
                    "end": "(?=(\\#|$))", 
                    "name": "meta.selector.css entity.other.attribute-name.class.efml"
                }
            ]
        }, 
        "efml-full-mustache": {
            "patterns": [
                {
                    "match": "(?<=(\\=|:)) *+\\{\\{((.+?)(\\=(.+?))?)?\\}\\} *+$", 
                    "captures": {
                        "3": {
                            "name": "variable.other.object.efml"
                        }, 
                        "5": {
                            "name": "string.mustache.efml"
                        }
                    }, 
                    "name": "expression.embbeded.efml"
                }
            ]
        }
    }, 
    "patterns": [
        {
            "begin": "^\\s*?(?=\\>)", 
            "patterns": [
                {
                    "include": "#efml-tag"
                }, 
                {
                    "include": "#efml-tag-name"
                }, 
                {
                    "include": "#efml-class-mustache"
                }, 
                {
                    "include": "#efml-tag-class"
                }
            ], 
            "end": "$", 
            "name": "meta.selector.efml"
        }, 
        {
            "begin": "^\\s*?(?=#)", 
            "patterns": [
                {
                    "include": "#efml-attr"
                }, 
                {
                    "include": "#efml-full-mustache"
                }, 
                {
                    "include": "#efml-pure-string"
                }
            ], 
            "end": "$", 
            "name": "meta.line.attr.efml"
        }, 
        {
            "begin": "^\\s*?(?=%)", 
            "patterns": [
                {
                    "include": "#efml-prop"
                }, 
                {
                    "include": "#efml-full-mustache"
                }, 
                {
                    "include": "#efml-pure-string"
                }
            ], 
            "end": "$", 
            "name": "meta.line.prop.efml"
        }, 
        {
            "begin": "^\\s*?(?=@)", 
            "patterns": [
                {
                    "include": "#efml-event"
                }, 
                {
                    "include": "#efml-event-method"
                }, 
                {
                    "include": "#efml-full-mustache"
                }, 
                {
                    "include": "#efml-pure-string"
                }
            ], 
            "end": "$", 
            "name": "meta.line.event.efml"
        }, 
        {
            "match": "^\\s*?[+-].*?$", 
            "name": "storage.type.eft"
        }, 
        {
            "begin": "^\\s*?\\.", 
            "patterns": [
                {
                    "include": "#efml-escape"
                }, 
                {
                    "include": "#efml-mustache"
                }
            ], 
            "end": "$", 
            "name": "text.efml"
        }, 
        {
            "begin": "^\\s*?[^>.#%@+-]", 
            "end": "$", 
            "name": "comment.line.efml"
        }
    ], 
    "name": "EFML", 
    "fileTypes": [
        "ef", 
        "eft"
    ], 
    "uuid": "ee7d9ea0-f056-4365-bc31-0512369e8c17"
}